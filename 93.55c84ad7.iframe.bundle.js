"use strict";(self.webpackChunkvip_go_nextjs_boilerplate=self.webpackChunkvip_go_nextjs_boilerplate||[]).push([[93],{"./components/Fyld/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>components_Fyld});var react=__webpack_require__("./node_modules/react/index.js"),index_esm=(__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/react-icons/md/index.esm.js")),Dealer=__webpack_require__("./contexts/Dealer/index.tsx"),TitleStyle=__webpack_require__("./components/TextStyle/TitleStyle/index.tsx"),next_router=__webpack_require__("./node_modules/next/router.js"),es6=__webpack_require__("./node_modules/universal-cookie/es6/index.js"),AdvancedImage=__webpack_require__("./components/AdvancedImage/index.tsx"),Button=__webpack_require__("./components/Button/index.tsx"),analytics=__webpack_require__("./utils/analytics/index.ts"),globals=__webpack_require__("./styles/globals.ts"),phoneLink=((0,globals.ZPm)("flex","flex-col","justify-center"),(0,globals.ZPm)("text-orange","text-lg","font-bold","leading-lg")),phoneWrapper=(0,globals.ZPm)("flex","items-center","gap-3","lg:gap-0"),phoneIcon=(0,globals.ZPm)("block","lg:hidden"),dealerAddress=(0,globals.ZPm)("text-gray-dark","text-base"),editLocation=((0,globals.ZPm)("text-orange","font-bold","text-sm","flex","flex-row","items-center","justify-center","my-4","border-2","border-orange","rounded","h-10"),(0,globals.ZPm)("inline-block","h-6","w-6","ml-2","transform-gpu","translate-y-0.5"),(0,globals.ZPm)("text-orange","mt-2","hover:text-white","hover:bg-orange","hover:border-orange","mb-2","min-w-full","border-2","border-orange"),(0,globals.ZPm)("flex","text-sm","text-gray-light4","items-center","font-bold","pt-5","underline")),customScheduleStyles=(0,globals.ZPm)("min-w-full","!text-19px"),editLocationIcon=(0,globals.ZPm)("mr-2","h-[21.5px]","w-[21.5px]"),dealerInfos=(0,globals.ZPm)("flex","flex-col","gap-2","mb-3"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),ExistingDealer=(react.createElement,function ExistingDealer(_ref){var data=_ref.data,router=(0,next_router.useRouter)(),dispatch=(0,Dealer.q)().dispatch,_useState=(0,react.useState)(null),interest=_useState[0],setInterest=_useState[1];return(0,react.useEffect)((function(){var interestCookie=(new es6.Z).get("interest");setInterest(interestCookie)}),[]),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsxs)("div",{className:dealerInfos,children:[(0,jsx_runtime.jsxs)("div",{className:phoneWrapper,children:[(0,jsx_runtime.jsx)("div",{className:phoneIcon,children:(0,jsx_runtime.jsx)(AdvancedImage.p,{src:"2022/09/rebuild_water_softening_icon_phone-in-circle.svg",width:"30",height:"30",layout:"fixed"})}),(0,jsx_runtime.jsx)("a",{href:"tel:"+data.Phone,className:phoneLink,onClick:function onClick(){analytics.c.contactDealer("phone",data.PostalCode,data.Title.toLowerCase())},children:data.Phone})]}),data.EMail&&(0,jsx_runtime.jsx)("a",{href:"mailto:"+data.EMail,className:phoneLink,onClick:function onClick(){analytics.c.contactDealer("email",data.PostalCode,data.Title.toLowerCase())},children:data.EMail}),(0,jsx_runtime.jsxs)("p",{className:dealerAddress,children:[data.Address2," ",(0,jsx_runtime.jsx)("br",{}),data.City+" "+data.State+", "+data.PostalCode]})]}),(0,jsx_runtime.jsx)(Button.Z,{type:"button",variant:"filled",customStyles:customScheduleStyles,onClick:function onClick(){return router.push("/dealer-locator/"+data.PostalCode+"?interest="+(interest||"HH"))},label:"VIEW LOCAL PAGE",children:"VIEW LOCAL PAGE"}),(0,jsx_runtime.jsxs)("button",{className:editLocation,onClick:function onClick(){analytics.c.changeLocation(data.PostalCode,"dealers","change location"),dispatch({type:"clear_dealer"})},children:[(0,jsx_runtime.jsx)(index_esm.U$P,{className:editLocationIcon})," Edit Location or Service"]})]})});ExistingDealer.displayName="ExistingDealer";const Fyld_ExistingDealer=ExistingDealer;try{ExistingDealer.displayName="ExistingDealer",ExistingDealer.__docgenInfo={description:"",displayName:"ExistingDealer",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"IDealerApi"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/Fyld/ExistingDealer/index.tsx#ExistingDealer"]={docgenInfo:ExistingDealer.__docgenInfo,name:"ExistingDealer",path:"components/Fyld/ExistingDealer/index.tsx#ExistingDealer"})}catch(__react_docgen_typescript_loader_error){}var asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),regenerator=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),regenerator_default=__webpack_require__.n(regenerator),Form=(__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./components/Form/index.tsx")),Error=__webpack_require__("./components/Warning/Error/index.tsx"),useGetDealer=__webpack_require__("./hooks/useGetDealer.ts"),styles_customGhostButton=((0,globals.ZPm)("mb-4"),(0,globals.ZPm)("border-white","border-2","w-full","text-sm"),(0,globals.ZPm)("mr-1"),(0,globals.ZPm)("col-span-12","mt-1","border-2","lg:max-w-[205px]","!text-19px")),errorMessage=((0,globals.ZPm)("text-white","text-12px","font-bold","flex","items-center","mt-4"),(0,globals.ZPm)("mb-0.5"),(0,globals.ZPm)("flex","items-center","col-span-12"));(0,globals.ZPm)("text-red","h-4","w-4","transition-all","duration-150","ease-in","mr-1"),react.createElement;const Fyld_NewDealer2=function NewDealer(_ref){var formData=_ref.formData,dealer=(0,Dealer.q)(),router=(0,next_router.useRouter)(),_useState=(0,react.useState)(""),currentZip=_useState[0],setCurrentZip=_useState[1],_useState2=(0,react.useState)(null),dealerResponse=_useState2[0],setDealerResponse=_useState2[1],_useState3=(0,react.useState)(),interest=_useState3[0],setInterest=_useState3[1],_useState4=(0,react.useState)(""),dealerNotFound=_useState4[0],setDealerNotFound=_useState4[1],_useGetDealer=(0,useGetDealer.x)(),isLoading=_useGetDealer.isLoading,success=_useGetDealer.success,execute=_useGetDealer.execute,error=_useGetDealer.error,findDealer=function(){var _ref2=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(data){var interest,response;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return interest=JSON.parse(data.InterestSupport),_context.next=3,execute({interest:interest.value,zipcode:data.top_zipcode});case 3:response=_context.sent,analytics.c.fyld(data.top_zipcode,"dealers","find local dealer"),setInterest(interest.value),setCurrentZip(data.top_zipcode),setDealerResponse(response);case 8:case"end":return _context.stop()}}),_callee)})));return function findDealer(_x){return _ref2.apply(this,arguments)}}();return(0,react.useEffect)((function(){var _dealerResponse$aryDe;if(null!=dealerResponse&&null!==(_dealerResponse$aryDe=dealerResponse.aryDealer)&&void 0!==_dealerResponse$aryDe&&_dealerResponse$aryDe.Dealer[0]){dealer.dispatch({type:"set_dealer",payload:{data:dealerResponse.aryDealer.Dealer[0]}});var _dealerCookie2=JSON.stringify(dealerResponse);document.cookie="location="+_dealerCookie2,localStorage.setItem("locationStoraged",_dealerCookie2),document.cookie="interest="+interest,(null==formData.redirect||formData.redirect)&&router.push("/dealer-locator/"+currentZip+"?interest="+(interest||"HH"))}null===(null==dealerResponse?void 0:dealerResponse.aryDealer)&&setDealerNotFound("Dealer not found")}),[dealerResponse]),(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsxs)(Form.l,{data:formData,onSubmit:findDealer,errorTheme:"red",labelTheme:"red",isMobile:!0,children:[""!==dealerNotFound&&(0,jsx_runtime.jsx)("div",{className:errorMessage,children:(0,jsx_runtime.jsx)(Error.Z,{icon:!1,msg:"dealerNotFound",theme:"red",textSize:"text-12px",width:"full"})}),error?(0,jsx_runtime.jsx)("div",{className:errorMessage,children:(0,jsx_runtime.jsx)(Error.Z,{icon:!1,msg:"default",theme:"red",textSize:"text-12px",width:"full"})}):null,(0,jsx_runtime.jsx)(Button.Z,{type:"submit",variant:"ghostAlt",customStyles:styles_customGhostButton,customBorder:!0,label:"SUBMIT",size:"lg",state:isLoading?"loading":success?"success":error?"error":"base",children:success?"DEALER FOUND":"SUBMIT"})]})})};try{NewDealer2.displayName="NewDealer2",NewDealer2.__docgenInfo={description:"",displayName:"NewDealer2",props:{formData:{defaultValue:null,description:"",name:"formData",required:!0,type:{name:"Form"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/Fyld/NewDealer2/index.tsx#NewDealer2"]={docgenInfo:NewDealer2.__docgenInfo,name:"NewDealer2",path:"components/Fyld/NewDealer2/index.tsx#NewDealer2"})}catch(__react_docgen_typescript_loader_error){}var Fyld_styles=__webpack_require__("./components/Fyld/styles.ts"),Header=(react.createElement,function Header(_ref){var dealer=_ref.dealer,text=_ref.text,styles=_ref.styles;return dealer?(0,jsx_runtime.jsxs)("div",{className:styles.wrapperDealer,children:[(0,jsx_runtime.jsx)(index_esm.$0r,{className:styles.locationIconDealer}),(0,jsx_runtime.jsx)(TitleStyle.V,{haveMobile:!1,color:"blue",tag:"h4",children:dealer.Title})]}):(0,jsx_runtime.jsxs)("div",{className:styles.wrapperFindDealer,children:[(0,jsx_runtime.jsx)(index_esm.$0r,{className:styles.locationIconTitle}),(0,jsx_runtime.jsx)(TitleStyle.V,{customStyles:styles.title,color:"white",tag:"h3",tagStyle:"h5",children:text})]})}),Fyld_Form=function Form(_ref2){var dealer=_ref2.dealer,styles=_ref2.styles,findDealerForm=_ref2.findDealerForm;return dealer?(0,jsx_runtime.jsx)("div",{className:styles.wrapperContentDealer,children:(0,jsx_runtime.jsx)(Fyld_ExistingDealer,{data:dealer})}):(0,jsx_runtime.jsx)("div",{className:styles.wrapperContentFindDealer,children:(0,jsx_runtime.jsx)(Fyld_NewDealer2,{formData:findDealerForm})})},FindDealerEmbed=function FindDealerEmbed(_ref3){var customStyles=_ref3.customStyles,findDealerForm=_ref3.findDealerForm,styles=Object.assign({},Fyld_styles.N,customStyles),dealer=(0,Dealer.q)().state.dealer;return(0,jsx_runtime.jsxs)("div",{className:styles.wrapper,children:[(0,jsx_runtime.jsx)(Header,{text:findDealerForm.name,dealer,styles}),(0,jsx_runtime.jsx)(Fyld_Form,{dealer,styles,findDealerForm})]})};FindDealerEmbed.displayName="FindDealerEmbed";const components_Fyld=FindDealerEmbed;try{Fyld.displayName="Fyld",Fyld.__docgenInfo={description:"",displayName:"Fyld",props:{customStyles:{defaultValue:null,description:"",name:"customStyles",required:!1,type:{name:"IFindDealerStyle"}},findDealerForm:{defaultValue:null,description:"",name:"findDealerForm",required:!0,type:{name:"Form"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/Fyld/index.tsx#Fyld"]={docgenInfo:Fyld.__docgenInfo,name:"Fyld",path:"components/Fyld/index.tsx#Fyld"})}catch(__react_docgen_typescript_loader_error){}}}]);