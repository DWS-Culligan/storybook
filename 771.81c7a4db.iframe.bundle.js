"use strict";(self.webpackChunkvip_go_nextjs_boilerplate=self.webpackChunkvip_go_nextjs_boilerplate||[]).push([[771],{"./views/Scheduler/AppointmentDetails/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var _Users_fvaris01_Developer_Culligan_culligan_app_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),formik__WEBPACK_IMPORTED_MODULE_12__=(__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/formik/dist/formik.esm.js")),_data_schedulerContent__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./data/schedulerContent.ts"),_views_Scheduler_data__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./views/Scheduler/data.ts"),_hooks_useMedia__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./hooks/useMedia.ts"),date_fns_format__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./node_modules/date-fns/esm/format/index.js"),_components_FormField__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./components/FormField/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/react/jsx-runtime.js"),weekDay=(react__WEBPACK_IMPORTED_MODULE_0__.createElement,function weekDay(date){return(0,date_fns_format__WEBPACK_IMPORTED_MODULE_18__.Z)(new Date(date),"iii")}),formatMobileDate=function formatMobileDate(date){var arrayDate=date.split(",");return date=arrayDate[0]+",<br/>"+arrayDate[1]},cloneDeep=function cloneDeep(data){return JSON.parse(JSON.stringify(data))},AppointmentDetails=function AppointmentDetails(_ref){var country=_ref.country,_useFormikContext=(0,formik__WEBPACK_IMPORTED_MODULE_12__.u6)(),values=_useFormikContext.values,setFieldValue=_useFormikContext.setFieldValue,_useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),prevDate=_useState[0],setPrevDate=_useState[1],_useState2=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),currDate=_useState2[0],setCurrDate=_useState2[1],_useState3=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),appointmentFormNew=_useState3[0],setAppointmentFormNew=_useState3[1],checkMobile=(0,_hooks_useMedia__WEBPACK_IMPORTED_MODULE_15__.G)(["(max-width: 1023px)"],[!0,!1],!1),createAppointment=function createAppointment(country){setAppointmentFormNew([]),_data_schedulerContent__WEBPACK_IMPORTED_MODULE_13__.I5.fields.map((function(field){if("ScheduleDate"!==field.name&&"ScheduleTime"!==field.name&&setAppointmentFormNew((function(appointmentFormNew){return[].concat((0,_Users_fvaris01_Developer_Culligan_culligan_app_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_19__.Z)(appointmentFormNew),[field])})),"ScheduleDate"===field.name){var _newField2=cloneDeep(field);_newField2.variant.options=[],"ca"===country?_views_Scheduler_data__WEBPACK_IMPORTED_MODULE_14__.Vx.map((function(value){var newValue=cloneDeep(value);newValue.label=checkMobile?formatMobileDate(value.label):value.label,_newField2.variant.options=[].concat((0,_Users_fvaris01_Developer_Culligan_culligan_app_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_19__.Z)(_newField2.variant.options),[newValue])})):_views_Scheduler_data__WEBPACK_IMPORTED_MODULE_14__.mU.map((function(value){var newValue=cloneDeep(value);newValue.label=checkMobile?formatMobileDate(value.label):value.label,_newField2.variant.options=[].concat((0,_Users_fvaris01_Developer_Culligan_culligan_app_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_19__.Z)(_newField2.variant.options),[newValue])})),setAppointmentFormNew((function(appointmentFormNew){return[].concat((0,_Users_fvaris01_Developer_Culligan_culligan_app_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_19__.Z)(appointmentFormNew),[_newField2])}))}if("ScheduleTime"===field.name){var _scheduleDate2=values.ScheduleDate;if(""!==_scheduleDate2){var _newField4=cloneDeep(field);_newField4.variant.options=[],field.variant.options.map((function(value){value.availableDays.indexOf(weekDay(_scheduleDate2))>=0&&(_newField4.variant.options=[].concat((0,_Users_fvaris01_Developer_Culligan_culligan_app_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_19__.Z)(_newField4.variant.options),[value]))})),setAppointmentFormNew((function(appointmentFormNew){return[].concat((0,_Users_fvaris01_Developer_Culligan_culligan_app_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_19__.Z)(appointmentFormNew),[_newField4])}))}else setAppointmentFormNew((function(appointmentFormNew){return[].concat((0,_Users_fvaris01_Developer_Culligan_culligan_app_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_19__.Z)(appointmentFormNew),[field])}))}}))};return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){setPrevDate(currDate),setCurrDate(values.ScheduleDate),createAppointment("us")}),[values]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){createAppointment("us")}),[]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){values.ScheduleDate&&currDate!==prevDate&&!function verifyHour(date,hour){return _views_Scheduler_data__WEBPACK_IMPORTED_MODULE_14__.uR.filter((function(value){return value.value===hour&&value.availableDays.indexOf(weekDay(date))>=0})).length>0}(values.ScheduleDate,values.ScheduleTime)&&setFieldValue("ScheduleTime","")}),[currDate]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){createAppointment(country)}),[country]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.Fragment,{children:[appointmentFormNew&&appointmentFormNew.map((function(field){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_components_FormField__WEBPACK_IMPORTED_MODULE_16__.Z,{data:field,id:"personal-info"+field.name,variation:field.variant,border:!0},field.name),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("div",{className:"mb-3"})]})})),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("div",{className:"mb-4 lg:mb-10"})]})};const __WEBPACK_DEFAULT_EXPORT__=AppointmentDetails;try{AppointmentDetails.displayName="AppointmentDetails",AppointmentDetails.__docgenInfo={description:"",displayName:"AppointmentDetails",props:{country:{defaultValue:null,description:"",name:"country",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["views/Scheduler/AppointmentDetails/index.tsx#AppointmentDetails"]={docgenInfo:AppointmentDetails.__docgenInfo,name:"AppointmentDetails",path:"views/Scheduler/AppointmentDetails/index.tsx#AppointmentDetails"})}catch(__react_docgen_typescript_loader_error){}}}]);