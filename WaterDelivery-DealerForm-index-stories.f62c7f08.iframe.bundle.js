"use strict";(self.webpackChunkvip_go_nextjs_boilerplate=self.webpackChunkvip_go_nextjs_boilerplate||[]).push([[9972],{"./components/WaterDelivery/DealerForm/index.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>index_stories});var react=__webpack_require__("./node_modules/react/index.js"),TextField=__webpack_require__("./node_modules/@material-ui/core/esm/TextField/TextField.js"),Checkbox=__webpack_require__("./node_modules/@material-ui/core/esm/Checkbox/Checkbox.js"),Typography=__webpack_require__("./node_modules/@material-ui/core/esm/Typography/Typography.js"),ToggleButtonGroup=__webpack_require__("./node_modules/@material-ui/lab/esm/ToggleButtonGroup/ToggleButtonGroup.js"),ToggleButton=__webpack_require__("./node_modules/@material-ui/lab/esm/ToggleButton/ToggleButton.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),regenerator=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),regenerator_default=__webpack_require__.n(regenerator),analytics=__webpack_require__("./utils/analytics/index.ts"),waterDelivery=__webpack_require__("./utils/waterDelivery.ts"),__jsx=react.createElement,FormContext=(0,react.createContext)(null),FormContextProvider=function FormContextProvider(_ref){var children=_ref.children,_useState=(0,react.useState)(3),bottleNumber=_useState[0],_setBottleNumber=_useState[1],_useState2=(0,react.useState)(0),discount=_useState2[0],_setDiscount=_useState2[1],_useState3=(0,react.useState)(null),promotion=_useState3[0],setPromotion=_useState3[1],_useState4=(0,react.useState)(!1),isPromoApplied=_useState4[0],setIsPromoApplied=_useState4[1],_useState5=(0,react.useState)(!1),isPriceDiscounted=_useState5[0],setIsPriceDiscounted=_useState5[1],_useState6=(0,react.useState)("residential"),locationType=_useState6[0],_setLocationType=_useState6[1],_useState7=(0,react.useState)(5),peopleNumber=_useState7[0],_setPeopleNumber=_useState7[1],_useState8=(0,react.useState)(null),selectedBundle=_useState8[0],_setSelectedBundle=_useState8[1],_useState9=(0,react.useState)(null),clientSecret=_useState9[0],setClientSecret=_useState9[1],_useState10=(0,react.useState)(null),selectedCooler=_useState10[0],_setSelectedCooler=_useState10[1],_useState11=(0,react.useState)(null),selectedFrequency=_useState11[0],_setSelectedFrequency=_useState11[1],_useState12=(0,react.useState)(null),selectedWater=_useState12[0],_setSelectedWater=_useState12[1],_useState13=(0,react.useState)(null),selectedCoolerVariant=_useState13[0],_setSelectedCoolerVariant=_useState13[1],_useState14=(0,react.useState)(1),coolerNumberState=_useState14[0],setCoolerNumberState=_useState14[1],_useState15=(0,react.useState)(""),email=_useState15[0],_setEmail=_useState15[1],_useState16=(0,react.useState)(""),emailError=_useState16[0],setEmailError=_useState16[1],_useState17=(0,react.useState)(""),phone=_useState17[0],_setPhone=_useState17[1],_useState18=(0,react.useState)(""),phoneError=_useState18[0],setPhoneError=_useState18[1],_useState19=(0,react.useState)(""),postalCode=_useState19[0],_setPostalCode=_useState19[1],_useState20=(0,react.useState)(""),postalCodeError=_useState20[0],setPostalCodeError=_useState20[1],_useState21=(0,react.useState)(null),SFData=_useState21[0],setSFData=_useState21[1],_useState22=(0,react.useState)(null),fees=_useState22[0],setFees=_useState22[1],_useState23=(0,react.useState)(""),city=_useState23[0],_setCity=_useState23[1],_useState24=(0,react.useState)(""),firstName=_useState24[0],_setFirstName=_useState24[1],_useState25=(0,react.useState)(""),lastName=_useState25[0],_setLastName=_useState25[1],_useState26=(0,react.useState)("mobile"),phoneType=_useState26[0],_setPhoneType=_useState26[1],_useState27=(0,react.useState)(""),region=_useState27[0],_setRegion=_useState27[1],_useState28=(0,react.useState)(!1),smsOptIn=_useState28[0],_setSmsOptIn=_useState28[1],_useState29=(0,react.useState)(""),streetAddress=_useState29[0],_setStreetAddress=_useState29[1],_useState30=(0,react.useState)(""),suiteAddress=_useState30[0],_setSuiteAddress=_useState30[1],_useState31=(0,react.useState)(!1),isStripeFlow=_useState31[0],setIsStripeFlow=_useState31[1],_useState32=(0,react.useState)(1),coolerNumber=_useState32[0],_setCoolerNumber=_useState32[1],_useState33=(0,react.useState)(!1),isSubmitting=_useState33[0],setIsSubmitting=_useState33[1],_useState34=(0,react.useState)(!1),isFormSubmited=_useState34[0],setIsFormSubmitted=_useState34[1],_useState35=(0,react.useState)(""),submitError=_useState35[0],setSubmitError=_useState35[1],_useState36=(0,react.useState)(0),estimatedTotal=_useState36[0],setEstimatedTotal=_useState36[1],_useState37=(0,react.useState)(0),todaysTotal=_useState37[0],setTodaysTotal=_useState37[1],_useState38=(0,react.useState)(0),monthlyTotal=_useState38[0],setMonthlyTotal=_useState38[1],_useState39=(0,react.useState)(0),cartSubtotal=_useState39[0],setCartSubtotal=_useState39[1],phonePattern=/^(?:\+?\d{1,3}[ -]?)?\(?\d{3}\)?[ -]?\d{3}[ -]?\d{4}$/,emailPattern=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,})+$/g,zipCodePattern=/^(?!.*[DFIOQU])[A-VXY]\d[A-Z] ?\d[A-Z]\d$|^\d{5}(?:[-\s]\d{4})?$/i;function getEstimatedTotal(){var bottles=(null==selectedBundle?void 0:selectedBundle.bottleNumber)||bottleNumber||0;bottleNumber!==bottles&&_setBottleNumber(bottles);var cooler=(null==selectedBundle?void 0:selectedBundle.coolerPrice)||(null==selectedCooler?void 0:selectedCooler.price)||0,variant=(null==selectedCoolerVariant?void 0:selectedCoolerVariant.price)||0,water=(null==selectedWater?void 0:selectedWater.price)||0,perMonth=(null==selectedFrequency?void 0:selectedFrequency.timesPerMonth)||1,isCustomBundle="Build Your Own"===(null==selectedBundle?void 0:selectedBundle.optionName),noCooler="I don't need a cooler"===(null==selectedCooler?void 0:selectedCooler.optionName)||0===coolerNumber,shouldApplyDiscount=!isCustomBundle&&Boolean(selectedBundle)||!isCustomBundle&&!Boolean(selectedBundle)&&!noCooler,estimatedTotal=perMonth*bottles*water+cooler*coolerNumber+variant;return estimatedTotal=shouldApplyDiscount?(0,waterDelivery._L)(estimatedTotal,discount):estimatedTotal,fees&&(estimatedTotal+=fees.delivery?+fees.delivery:0,estimatedTotal+=fees.coolerDeposit?+fees.coolerDeposit:0,estimatedTotal+=fees.bottleDeposit?+fees.bottleDeposit:0,estimatedTotal+=+fees.taxes||0),estimatedTotal}function canSubmitFormOnly(){return city&&email&&firstName&&lastName&&locationType&&phone&&phoneType&&postalCode&&region&&streetAddress}function validateForm(){var hasError=!1;return postalCode&&zipCodePattern.test(postalCode)?setPostalCodeError(""):(hasError=!0,setPostalCodeError("Must be a valid US or Canadian Postal Code")),phone&&phonePattern.test(phone)?setPhoneError(""):(hasError=!0,setPhoneError("Must be a valid US or Canadian Phone Number")),email&&emailPattern.test(email)?setEmailError(""):(hasError=!0,setEmailError("Must be a valid Email")),!hasError}function addNotes(notes,fieldName,newNote){return"0.00"!==newNote&&(notes+="".concat(fieldName,": ").concat(newNote,"\n")),notes}function _handleSubmit(){return(_handleSubmit=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(dealerName,submitCallback){var _promotion$coupon,_promotion$coupon2,notes,isRecurring,data,_promotion$coupon3,_promotion$coupon4;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:notes="",isRecurring="One-time"!==(null==selectedFrequency?void 0:selectedFrequency.optionName),data={FirstName:firstName,LastName:lastName,EmailAddress:email,Phone:phone,Phone_Type__c:phoneType,"Address-1":streetAddress,"Address-2":suiteAddress,PostalCode:postalCode,City:city,State:region,Mobile_SMS_Opt_In__c:smsOptIn?1:0,LeadTypeC:locationType,Water_Type__c:null==selectedWater?void 0:selectedWater.optionName,Cooler_Type__c:"I don't need a cooler"===(null==selectedCooler?void 0:selectedCooler.optionName)?"None":null==selectedCooler?void 0:selectedCooler.optionName,Cooler_Color__c:null==selectedCoolerVariant?void 0:selectedCoolerVariant.optionName,Estimated_Order_Total__c:todaysTotal,AreaOfInterest:"Water Delivery/Water Coolers",Interest:"Water Delivery/Water Coolers",Lead_Campaign_c:"Culligan Delivery Pilot",Delivery_Frequency__c:(null==selectedFrequency?void 0:selectedFrequency.optionName)||"Monthly",Bottle_Deposit__c:(null==fees?void 0:fees.bottleDeposit)||0,Cooler_Deposit__c:(null==fees?void 0:fees.coolerDeposit)||0,Delivery_Fee__c:(null==fees?void 0:fees.delivery)||0,Promotion_Amount__c:null!=promotion&&promotion.coupon?-(null==promotion||null===(_promotion$coupon=promotion.coupon)||void 0===_promotion$coupon?void 0:_promotion$coupon.amount_off)/100:0,Promotion_Applied__c:null!=promotion&&promotion.coupon&&(null==promotion||null===(_promotion$coupon2=promotion.coupon)||void 0===_promotion$coupon2?void 0:_promotion$coupon2.amount_off)>0?"Yes":"No"},isRecurring&&(data.Subtotal__c=monthlyTotal),data.Tax_Total__c=(null==fees?void 0:fees.taxes)||0,"residential"===locationType&&(notes=addNotes(notes,"Bundle Type","".concat(null==selectedBundle?void 0:selectedBundle.optionName)),notes=addNotes(notes,"Water Bottle Quantity","".concat((null==selectedBundle?void 0:selectedBundle.bottleNumber)||bottleNumber))),notes=addNotes(notes,"Water Type","".concat(null==selectedWater?void 0:selectedWater.optionName)),notes=addNotes(notes,"Cooler Type","".concat("I don't need a cooler"===(null==selectedCooler?void 0:selectedCooler.optionName)?"None":null==selectedCooler?void 0:selectedCooler.optionName)),notes=addNotes(notes,"Cooler Color","".concat(null==selectedCoolerVariant?void 0:selectedCoolerVariant.optionName)),notes=addNotes(notes,"Delivery Frequency","".concat((null==selectedFrequency?void 0:selectedFrequency.optionName)||"Monthly")),isStripeFlow&&(notes=addNotes(notes,"Promotion Applied","".concat(null!=promotion&&promotion.coupon&&(null==promotion||null===(_promotion$coupon3=promotion.coupon)||void 0===_promotion$coupon3?void 0:_promotion$coupon3.amount_off)>0?"Yes":"No")),"office"===locationType&&(notes=addNotes(notes,"Set Water Amount Commercial","".concat(bottleNumber.toString())),notes=addNotes(notes,"Cooler Quantity","".concat(coolerNumber.toString()))),notes=addNotes(notes,"Bottle Deposit","".concat(((null==fees?void 0:fees.bottleDeposit)||0).toString())),notes=addNotes(notes,"Cooler Deposit","".concat(((null==fees?void 0:fees.coolerDeposit)||0).toString())),notes=addNotes(notes,"Delivery Fee","".concat(((null==fees?void 0:fees.delivery)||0).toString())),notes=addNotes(notes,"Tax Total","".concat(((null==fees?void 0:fees.taxes)||0).toString())),notes=addNotes(notes,"Promotion Amount","".concat((null!=promotion&&promotion.coupon?-(null==promotion||null===(_promotion$coupon4=promotion.coupon)||void 0===_promotion$coupon4?void 0:_promotion$coupon4.amount_off)/100:0).toString())),isRecurring&&(notes=addNotes(notes,"Estimated Recurring Monthly Total","".concat(monthlyTotal.toString())))),isStripeFlow||"office"!==locationType||(notes=addNotes(notes,"Set Water Amount Commercial","".concat(bottleNumber.toString())),notes=addNotes(notes,"Cooler Quantity","".concat(coolerNumber.toString()))),notes=addNotes(notes,"Today's Total","".concat(todaysTotal.toString())),_context.t0=locationType,_context.next="residential"===_context.t0?16:"office"===_context.t0?19:21;break;case 16:return data.Bundle_Type__c=null==selectedBundle?void 0:selectedBundle.optionName,data.Water_Bottle_Quantity__c=(null==selectedBundle?void 0:selectedBundle.bottleNumber)||bottleNumber,_context.abrupt("break",22);case 19:return data.Set_Water_Amount_Commercial__c=bottleNumber,_context.abrupt("break",22);case 21:return _context.abrupt("return");case 22:data.Notes=notes,setSFData(data),submitCallback(data);case 25:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}(0,react.useEffect)((function(){var _promotion$promo_avai,_promotion$promo_avai2,_promotion$promo_avai3;null!=promotion&&null!==(_promotion$promo_avai=promotion.promo_available)&&void 0!==_promotion$promo_avai&&_promotion$promo_avai.available||"bottle limit reached"!==(null==promotion||null===(_promotion$promo_avai2=promotion.promo_available)||void 0===_promotion$promo_avai2||null===(_promotion$promo_avai2=_promotion$promo_avai2.reason)||void 0===_promotion$promo_avai2?void 0:_promotion$promo_avai2.message)?setIsPromoApplied("no_promo"!==(null==promotion||null===(_promotion$promo_avai3=promotion.promo_available)||void 0===_promotion$promo_avai3?void 0:_promotion$promo_avai3.promo)&&!(null!=promotion&&promotion.coupon_used)):setIsPromoApplied(!1)}),[promotion]),(0,react.useEffect)((function(){setEstimatedTotal(getEstimatedTotal())}),[selectedBundle,bottleNumber,selectedCooler,selectedCoolerVariant,selectedWater,selectedFrequency,coolerNumber]);var state={bottleNumber,canSubmit:function canSubmit(){var isNotEmpty=city&&email&&firstName&&lastName&&locationType&&phone&&phoneType&&postalCode&&region&&selectedCooler&&selectedCoolerVariant&&selectedWater&&streetAddress;switch(locationType){case"residential":return"Build Your Own"===(null==selectedBundle?void 0:selectedBundle.optionName)?isNotEmpty&&selectedBundle&&bottleNumber&&selectedFrequency:isNotEmpty&&selectedBundle;case"office":return isNotEmpty&&peopleNumber;default:return!1}},canSubmitFormOnly,city,discount,email,emailError,estimatedTotal,firstName,handleFormOnlySubmit:function handleFormOnlySubmit(dealerName,submitCallback){if(canSubmitFormOnly()&&validateForm()){var notes="",submission={city,email,firstName,lastName,locationType,phone,phoneType,postalCode,region,selectedCooler,selectedCoolerVariant,selectedWater,smsOptIn,streetAddress,suiteAddress},data={FirstName:firstName,LastName:lastName,EmailAddress:email,Phone:phone,Phone_Type__c:phoneType,"Address-1":streetAddress,"Address-2":suiteAddress,PostalCode:postalCode,City:city,State:region,Mobile_SMS_Opt_In__c:smsOptIn?1:0,LeadTypeC:locationType,Estimated_Order_Total__c:getEstimatedTotal().toFixed(2),AreaOfInterest:"Water Delivery/Water Coolers",Interest:"Water Delivery/Water Coolers",Lead_Campaign_c:"Culligan Delivery Pilot",Payment_Collected__c:"FALSE"};notes=addNotes(notes,"Estimated Order Total",getEstimatedTotal().toFixed(2)),data.Notes=notes,submitCallback(data),analytics.c.bwdSubmit("Simple Form",submission,dealerName)}},handleSubmit:function handleSubmit(_x,_x2){return _handleSubmit.apply(this,arguments)},isBundleFlow:"residential"===locationType,isCustomBundle:"Build Your Own"===(null==selectedBundle?void 0:selectedBundle.optionName),isPriceDiscounted,isSubmitting,lastName,locationType,peopleNumber,phone,phoneError,phoneType,postalCode,postalCodeError,region,selectedBundle,selectedCooler,selectedCoolerVariant,selectedFrequency,selectedWater,setIsPriceDiscounted,setIsSubmitting,setSubmitError,smsOptIn,streetAddress,submitError,suiteAddress,isStripeFlow,setIsStripeFlow,SFData,validateForm,isFormSubmited,setIsFormSubmitted,setBottleNumber:function setBottleNumber(selected){analytics.c.bwdOptionSelected("Water Quantity",selected),_setBottleNumber(selected)},setBottleNumberOffice:function setBottleNumberOffice(selected,bundleDiscounts){analytics.c.bwdOptionSelected("Water Quantity",selected),selected<3&&_setDiscount(0),3===selected&&_setDiscount(bundleDiscounts.bundle_three_water),4===selected&&_setDiscount(bundleDiscounts.bundle_four_water),5===selected&&_setDiscount(bundleDiscounts.bundle_five_water),selected>=6&&selected<10&&_setDiscount(bundleDiscounts.bundle_six_water),selected>=10&&selected<15&&_setDiscount(bundleDiscounts.bundle_ten_water),selected>=15&&selected<20&&_setDiscount(bundleDiscounts.bundle_fifteen_water),selected>=20&&selected<25&&_setDiscount(bundleDiscounts.bundle_twenty_water),selected>=25&&_setDiscount(bundleDiscounts.bundle_twenty_five_water),_setBottleNumber(selected)},setStreetAddress:function setStreetAddress(selected){_setStreetAddress(selected)},setSuiteAddress:function setSuiteAddress(selected){_setSuiteAddress(selected)},setDiscount:function setDiscount(selected){_setDiscount(selected)},setEmail:function setEmail(selected){_setEmail(selected)},setFirstName:function setFirstName(selected){_setFirstName(selected)},setLastName:function setLastName(selected){_setLastName(selected)},setLocationType:function setLocationType(selected){analytics.c.bwdFormOptionSelected("Location Type",selected),_setLocationType(selected),_setBottleNumber(3),_setPeopleNumber(5),_setSelectedBundle(null),_setSelectedCooler(null),_setSelectedFrequency(null),_setSelectedWater(null),_setSelectedCoolerVariant(null)},setCity:function setCity(selected){_setCity(selected)},setLocationValue:function setLocationValue(locationType){_setLocationType(locationType)},setPeopleNumber:function setPeopleNumber(selected,bundleDiscounts){selected<=10&&4!==bottleNumber&&(_setBottleNumber(4),_setCoolerNumber(1),setCoolerNumberState(1),_setDiscount(bundleDiscounts.bundle_four_water)),selected>10&&selected<=20&&6!==bottleNumber&&(_setBottleNumber(6),_setCoolerNumber(1),setCoolerNumberState(1),_setDiscount(bundleDiscounts.bundle_six_water)),selected>20&&selected<=30&&10!==bottleNumber&&(_setBottleNumber(10),_setCoolerNumber(2),setCoolerNumberState(2),_setDiscount(bundleDiscounts.bundle_ten_water)),selected>30&&selected<=40&&15!==bottleNumber&&(_setBottleNumber(15),_setCoolerNumber(2),setCoolerNumberState(2),_setDiscount(bundleDiscounts.bundle_fifteen_water)),selected>40&&selected<=50&&20!==bottleNumber&&(_setBottleNumber(20),_setCoolerNumber(3),setCoolerNumberState(3),_setDiscount(bundleDiscounts.bundle_twenty_water)),selected>50&&25!==bottleNumber&&(_setBottleNumber(25),_setCoolerNumber(3),setCoolerNumberState(3),_setDiscount(bundleDiscounts.bundle_twenty_five_water)),_setPeopleNumber(selected)},setPhone:function setPhone(selected){_setPhone(selected)},setPhoneType:function setPhoneType(selected){analytics.c.bwdOptionSelected("Phone Type:",selected),_setSmsOptIn(!1),_setPhoneType(selected)},setPostalCode:function setPostalCode(selected){_setPostalCode(selected)},setPostalCodeError,setRegion:function setRegion(selected){_setRegion(selected)},setSelectedBundle:function setSelectedBundle(selected,waterProducts,coolerProducts){analytics.c.bwdOptionSelected("Bundle",selected),_setSelectedBundle(selected),_setSelectedFrequency(null),"Build Your Own"!==selected.optionName?(_setSelectedCooler(null==coolerProducts?void 0:coolerProducts.options[0]),_setSelectedCoolerVariant(null==coolerProducts?void 0:coolerProducts.options[0].variants[0]),_setSelectedWater(null==waterProducts?void 0:waterProducts.options[0])):(_setSelectedCooler(null),_setSelectedCoolerVariant(null),_setSelectedWater(null))},setSelectedCooler:function setSelectedCooler(selected){analytics.c.bwdOptionSelected("Cooler",selected),_setSelectedCooler(selected),"I don't need a cooler"===(null==selected?void 0:selected.optionName)?_setCoolerNumber(0):_setCoolerNumber(coolerNumberState),analytics.c.bwdOptionSelected("Cooler Variant:",selected.variants[0]),_setSelectedCoolerVariant(selected.variants[0])},setSelectedCoolerVariant:function setSelectedCoolerVariant(selected){analytics.c.bwdOptionSelected("Cooler Variant:",selected),_setSelectedCoolerVariant(selected),"I don't need a cooler"===(null==selected?void 0:selected.optionName)?_setCoolerNumber(0):_setCoolerNumber(coolerNumberState)},setSelectedFrequency:function setSelectedFrequency(selected){analytics.c.bwdOptionSelected("Delivery Frequency",selected),_setSelectedFrequency(selected)},setSelectedWater:function setSelectedWater(selected){analytics.c.bwdOptionSelected("Water Type",selected),_setSelectedWater(selected)},setSmsOptIn:function setSmsOptIn(selected){analytics.c.bwdFormOptionSelected("SMS Opt In:",selected),_setSmsOptIn(selected)},getStripeProducts:function getStripeProducts(){var stripeProducts=[],bottles=(null==selectedBundle?void 0:selectedBundle.bottleNumber)||bottleNumber||0,water=(null==selectedWater?void 0:selectedWater.price)||0,isRecurring="One-time"!==(null==selectedFrequency?void 0:selectedFrequency.optionName),isCustomBundle="Build Your Own"===(null==selectedBundle?void 0:selectedBundle.optionName),noCooler="I don't need a cooler"===(null==selectedCooler?void 0:selectedCooler.optionName)||0===coolerNumber,shouldApplyDiscount=!isCustomBundle&&Boolean(selectedBundle)||!isCustomBundle&&!Boolean(selectedBundle)&&!noCooler;return selectedWater&&stripeProducts.push({id:selectedWater.id,price:water,isRecurring,recurringPeriod:(null==selectedFrequency?void 0:selectedFrequency.optionName)||"Monthly",discount:shouldApplyDiscount?discount:0,quantity:bottles,type:"bottle"}),selectedCoolerVariant&&stripeProducts.push({id:selectedCoolerVariant.id,price:(null==selectedBundle?void 0:selectedBundle.coolerPrice)||(null==selectedCooler?void 0:selectedCooler.price)||0,isRecurring,recurringPeriod:(null==selectedFrequency?void 0:selectedFrequency.optionName)||"Monthly",discount:shouldApplyDiscount?discount:0,quantity:coolerNumber,type:"cooler"}),stripeProducts},fees,setFees,promotion,setPromotion,isPromoApplied,coolerNumber,setCoolerNumber:function setCoolerNumber(qtty){_setCoolerNumber(qtty),setCoolerNumberState(qtty)},todaysTotal,setTodaysTotal,monthlyTotal,setMonthlyTotal,cartSubtotal,setCartSubtotal,addNotes,setClientSecret,clientSecret,zipCodePattern};return __jsx(FormContext.Provider,{value:state},children)};FormContextProvider.displayName="FormContextProvider";try{FormContextProvider.displayName="FormContextProvider",FormContextProvider.__docgenInfo={description:"",displayName:"FormContextProvider",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["contexts/FormContext/index.tsx#FormContextProvider"]={docgenInfo:FormContextProvider.__docgenInfo,name:"FormContextProvider",path:"contexts/FormContext/index.tsx#FormContextProvider"})}catch(__react_docgen_typescript_loader_error){}var useAutocomplete=__webpack_require__("./hooks/useAutocomplete.ts"),globals=__webpack_require__("./styles/globals.ts"),root=(0,globals.ZP)("flex","flex-col","min-w-[540px]","gap-y-4","xs:min-w-full"),field=(0,globals.ZP)("!mx-2","!font-poppins","!border-[#4646461f]","!text-base"),toggle=(0,globals.ZP)("!text-blue-secondary","!font-medium","!font-poppins","xs:w-[120px]","sm:w-[120px]","lg:!w-full","h-[56px]","!px-6"),optIn=(0,globals.ZP)("flex","justify-start","items-center","!font-poppins","my-5"),optInText=(0,globals.ZP)("!font-poppins","!text-sm","!leading-sm"),fieldBox=(0,globals.ZP)("flex","lg:flex-row","xs:flex-col","xs:gap-y-4"),phoneSelection=(0,globals.ZP)("xs:mx-auto"),DealerForm_jsx=react.createElement;function DealerForm(){var autocomplete=(0,useAutocomplete.o)(),_useState=(0,react.useState)(!1),setIsFocused=(_useState[0],_useState[1]),_ref=(0,react.useContext)(FormContext)||{},city=_ref.city,email=_ref.email,emailError=_ref.emailError,firstName=_ref.firstName,lastName=_ref.lastName,locationType=_ref.locationType,phone=_ref.phone,phoneError=_ref.phoneError,phoneType=_ref.phoneType,postalCode=_ref.postalCode,postalCodeError=_ref.postalCodeError,region=_ref.region,setCity=_ref.setCity,setEmail=_ref.setEmail,setFirstName=_ref.setFirstName,setLastName=_ref.setLastName,setPhone=_ref.setPhone,setPhoneType=_ref.setPhoneType,setPostalCode=_ref.setPostalCode,setRegion=_ref.setRegion,setSmsOptIn=_ref.setSmsOptIn,setStreetAddress=_ref.setStreetAddress,setSuiteAddress=_ref.setSuiteAddress,smsOptIn=_ref.smsOptIn,streetAddress=_ref.streetAddress,suiteAddress=_ref.suiteAddress;return(0,react.useEffect)((function(){JSON.parse(localStorage.getItem("filledInformation"))||(setStreetAddress("".concat(autocomplete.selectedNumber?autocomplete.selectedNumber+" ":"").concat(autocomplete.selectedStreet)),autocomplete.ref.current.value="".concat(autocomplete.selectedNumber?autocomplete.selectedNumber+" ":"").concat(autocomplete.selectedStreet),setRegion(autocomplete.selectedState),setCity(autocomplete.selectedCity),setPostalCode(autocomplete.selectedZipCode),autocomplete.selectedAddressLine2&&setSuiteAddress(autocomplete.selectedAddressLine2))}),[autocomplete.selectedPlace]),(0,react.useEffect)((function(){streetAddress&&""!==streetAddress||(setRegion(""),setCity(""),setPostalCode(""))}),[streetAddress]),DealerForm_jsx("form",{className:"".concat(root," vk-dealer-form-root"),noValidate:!0},DealerForm_jsx(TextField.Z,{className:field,label:"First Name",inputProps:{maxLength:50},onChange:function onChange(event){return setFirstName(event.target.value)},required:!0,value:firstName,variant:"outlined","data-testid":"bwd-firstname"}),DealerForm_jsx(TextField.Z,{className:field,label:"Last Name",inputProps:{maxLength:50},onChange:function onChange(event){return setLastName(event.target.value)},required:!0,value:lastName,variant:"outlined","data-testid":"bwd-lastname"}),DealerForm_jsx(TextField.Z,{className:field,label:"Street Address",inputProps:{maxLength:500,autoComplete:"address-line1"},inputRef:null==autocomplete?void 0:autocomplete.ref,onBlur:function onBlur(e){setIsFocused(!1),""==e.target.value&&(setRegion(""),setCity(""),setPostalCode(""))},onFocus:function onFocus(){setIsFocused(!0)},required:!0,value:autocomplete.ref.current?autocomplete.ref.current.value:streetAddress,onChange:function onChange(e){setStreetAddress(e.target.value)},variant:"outlined","data-testid":"bwd-streetaddress"}),DealerForm_jsx(TextField.Z,{className:field,label:"Unit/Apartment",type:"text",inputProps:{maxLength:500},onChange:function onChange(event){return setSuiteAddress(event.target.value)},value:suiteAddress||"",variant:"outlined","data-testid":"bwd-unit"}),DealerForm_jsx(TextField.Z,{className:field,label:"City",inputProps:{maxLength:100},type:"text",onChange:function onChange(event){return setCity(event.target.value)},required:!0,value:city||"",variant:"outlined","data-testid":"bwd-city"}),DealerForm_jsx("div",{className:fieldBox},DealerForm_jsx(TextField.Z,{style:{flexGrow:1},className:field,type:"text",label:"State/Province",inputProps:{maxLength:100},onChange:function onChange(event){return setRegion(event.target.value)},required:!0,value:region||"",variant:"outlined","data-testid":"bwd-state"}),DealerForm_jsx(TextField.Z,{className:field,error:!!postalCodeError,helperText:postalCodeError,inputProps:{maxLength:10},label:"Zip/Postal Code",onChange:function onChange(event){return setPostalCode(event.target.value)},type:"text",required:!0,value:postalCode||"",variant:"outlined","data-testid":"bwd-postalcode"})),DealerForm_jsx(TextField.Z,{className:field,error:!!emailError,helperText:emailError,label:"Email",inputProps:{maxLength:100},onChange:function onChange(event){return setEmail(event.target.value)},required:!0,value:email||"",variant:"outlined","data-testid":"bwd-email"}),DealerForm_jsx("div",{className:fieldBox},DealerForm_jsx(TextField.Z,{className:field,error:!!phoneError,helperText:phoneError,label:"Phone Number",inputProps:{maxLength:15,minLength:10},onChange:function onChange(event){return setPhone(event.target.value)},required:!0,value:phone,variant:"outlined",style:{flexBasis:"85%"},"data-testid":"bwd-phonenumber"}),DealerForm_jsx("div",{className:phoneSelection},DealerForm_jsx(ToggleButtonGroup.Z,{"aria-label":"phone type",className:"".concat(field," vk-form-toggle-group"),exclusive:!0,size:"small",onChange:function onChange(event,value){value&&setPhoneType(value)},value:phoneType},DealerForm_jsx(ToggleButton.Z,{"data-testid":"bwd-mobilephone","aria-label":"Mobile Phone",className:"".concat(toggle," vk-form-toggle-button"),value:"mobile"},"Mobile"),DealerForm_jsx(ToggleButton.Z,{"data-testid":"bwd-homephone","aria-label":"Home Phone",className:toggle,value:"home"},"residential"===locationType?"Home":"Office")))),"mobile"===phoneType&&DealerForm_jsx("div",{className:optIn},DealerForm_jsx(Checkbox.Z,{"data-testid":"bwd-optin",checked:smsOptIn,color:"primary",name:"checkedB",onChange:function onChange(event,value){return setSmsOptIn(value)}}),DealerForm_jsx(Typography.Z,{variant:"caption",className:optInText},"Opt-in to receive SMS alerts from Culligan*")))}DealerForm.displayName="DealerForm";const WaterDelivery_DealerForm=DealerForm;var index_stories_jsx=react.createElement;const index_stories={title:"Form/Dealer Form",component:WaterDelivery_DealerForm};var Template=function Template(){return index_stories_jsx(WaterDelivery_DealerForm,null)};Template.displayName="Template";var Default=Template.bind({});Default.args={},Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"() => <DealerForm />",...Default.parameters?.docs?.source}}};const __namedExportsOrder=["Default"]},"./api/config.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{M5:()=>HOST,VC:()=>GOOGLE_MAPS_API,ak:()=>GOOGLE_MAPS_KEY,hb:()=>BASE_STRIPE_API,k2:()=>NAVIGATION,pr:()=>DEALER_LOOKUP_HOST});var process=__webpack_require__("./node_modules/process/browser.js"),HOST="https://api-develop.culligan.com",DEALER_LOOKUP_HOST="https://api-develop.culligan.com/dealer-lookup",GOOGLE_MAPS_API="https://maps.googleapis.com",GOOGLE_MAPS_KEY="AIzaSyBY4jEPlWBPXsJkilf55pwzWkVttb-tFdQ",NAVIGATION="https://api-develop.culligan.com/navigation",BASE_STRIPE_API=(process.env.NEXT_PUBLIC_DEALER_API_URL,process.env.NEXT_PUBLIC_BASE_STRIPE_URL);process.env.NEXT_BASE_URL,process.env.NEXT_PUBLIC_BEACON_SCRIPT},"./hooks/useAutocomplete.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{o:()=>useAutocomplete});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_google_autocomplete__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-google-autocomplete/index.js"),_api_config__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./api/config.ts");function useAutocomplete(loadApiKey){var _useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({}),selectedPlace=_useState[0],setSelectedPlace=_useState[1],_useState2=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),selectedNumber=_useState2[0],setSelectedNumber=_useState2[1],_useState3=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),selectedStreet=_useState3[0],setSelectedStreet=_useState3[1],_useState4=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),selectedCity=_useState4[0],setSelectedCity=_useState4[1],_useState5=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),selectedState=_useState5[0],setSelectedState=_useState5[1],_useState6=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),selectedAddressLine2=_useState6[0],setSelectedAddressLine2=_useState6[1],_useState7=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),selectedZipCode=_useState7[0],setSelectedZipCode=_useState7[1];return{ref:(0,react_google_autocomplete__WEBPACK_IMPORTED_MODULE_1__.usePlacesWidget)({apiKey:_api_config__WEBPACK_IMPORTED_MODULE_2__.ak+"&callback=Function.prototype",options:{types:["address"],fields:["address_components"],componentRestrictions:{country:["us","ca"]}},onPlaceSelected:function onPlaceSelected(place){setSelectedNumber(""),setSelectedZipCode(""),setSelectedAddressLine2(""),place.address_components.map((function(addr_component){addr_component.types.indexOf("street_number")>=0&&setSelectedNumber(addr_component.long_name),addr_component.types.indexOf("subpremise")>=0&&setSelectedAddressLine2(addr_component.long_name),addr_component.types.indexOf("route")>=0&&setSelectedStreet(addr_component.long_name),addr_component.types.indexOf("locality")>=0&&setSelectedCity(addr_component.long_name),addr_component.types.indexOf("administrative_area_level_1")>=0&&setSelectedState(addr_component.long_name),addr_component.types.indexOf("postal_code")>=0&&setSelectedZipCode(addr_component.long_name.replace(/\s/g,""))})),setSelectedPlace(place),localStorage.setItem("filledInformation","false")},inputAutocompleteValue:"address-line1"}).ref,selectedPlace,selectedStreet,selectedCity,selectedState,selectedZipCode,selectedNumber,selectedAddressLine2}}},"./utils/waterDelivery.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function getDiscountedPrice(originalPrice,discount){return discount&&discount>0?originalPrice-discount/100*originalPrice:originalPrice}__webpack_require__.d(__webpack_exports__,{T4:()=>formatPrice,XM:()=>COOLER_IMAGES,_L:()=>getDiscountedPrice,dX:()=>PROMOTIONS_METADATA});var formatPrice=function formatPrice(price){return(price?Math.round(100*+price)/100:0).toFixed(2)},PROMOTIONS_METADATA={first_3_months:{title:"$9.95 First 3 Months",description:"This offer is valid for a limited time and will be applied to your first three monthly \n    payments. Participation may vary by location. Not to be combined with any other \n    offers. Limited one time per customer. Offer valid for online purchases only. Cannot \n    be used for prior purchases. "},first_month_free_no_fees:{title:"First Month Free",description:"This offer is valid for a limited time and only applies to today's total. Participation \n  may vary by location. Not to be combined with any other offers. Limited one time \n  per customer. Offer valid for online purchases only. Cannot be used for prior \n  purchases."},first_month_free_fee_include:{title:"First Month Free",description:"This offer is valid for a limited time and only applies to today's total. Participation \n  may vary by location. Not to be combined with any other offers. Limited one time \n  per customer. Offer valid for online purchases only. Cannot be used for prior \n  purchases."}};var COOLER_IMAGES={16263:"https://wp.culligan.com/wp-content/uploads/2023/03/Top-Load-Room-_-Cold-Black-BWD-Tile.png",14994:"https://wp-preprod.culligan.com/wp-content/uploads/2023/03/Top-Load-Room-_-Cold-Black-BWD-Tile.png",16260:"https://wp.culligan.com/wp-content/uploads/2023/03/Top-Load-Room-_-Cold-White-BWD-Tile.png",14991:"https://wp-preprod.culligan.com/wp-content/uploads/2023/03/Top-Load-Room-_-Cold-White-BWD-Tile.png",16261:"https://wp.culligan.com/wp-content/uploads/2023/03/Top-Load-Hot-_-Cold-Black-BWD-Tile.png",14992:"https://wp-preprod.culligan.com/wp-content/uploads/2023/03/Top-Load-Hot-_-Cold-Black-BWD-Tile.png",16265:"https://wp.culligan.com/wp-content/uploads/2023/03/Top-Load-Hot-_-Cold-Stainless-BWD-Tile.png",15006:"https://wp-preprod.culligan.com/wp-content/uploads/2023/03/Top-Load-Hot-_-Cold-Stainless-BWD-Tile.png",16266:"https://wp.culligan.com/wp-content/uploads/2023/03/Top-Load-Hot-_-Cold-Bottom-load-BWD-Tile.png",14995:"https://wp-preprod.culligan.com/wp-content/uploads/2023/03/Top-Load-Hot-_-Cold-Bottom-load-BWD-Tile.png",16264:"https://wp.culligan.com/wp-content/uploads/2023/03/Top-Load-Hot-_-Cold-White-BWD-Tile.png",14993:"https://website-preprod.culligan.com/wp-content/uploads/2023/03/Top-Load-Hot-_-Cold-White-BWD-Tile.png"}}}]);